{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Backend: Uvicorn (no reload)",
            "type": "shell",
            "command": "${workspaceFolder}/.venv/bin/python",
            "windows": {
                "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe"
            },
            "args": [
                "-m",
                "uvicorn",
                "backend.app:app",
                "--host",
                "0.0.0.0",
                "--port",
                "8000"
            ],
            "options": {
                "env": {
                    "PYTHONPATH": "${workspaceFolder}"
                }
            },
            "isBackground": true,
            "problemMatcher": {
                "owner": "python",
                "pattern": [
                    {
                        "regexp": "."
                    }
                ],
                "background": {
                    "activeOnStart": true,
                    "beginsPattern": ".",
                    "endsPattern": "Application startup complete."
                }
            }
        },
        {
            "label": "Backend: Uvicorn (reload)",
            "type": "shell",
            "command": "${workspaceFolder}/.venv/bin/python",
            "windows": {
                "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe"
            },
            "args": [
                "-m",
                "uvicorn",
                "backend.app:app",
                "--host",
                "0.0.0.0",
                "--port",
                "8000",
                "--reload",
                "--reload-dir",
                "backend"
            ],
            "options": {
                "env": {
                    "PYTHONPATH": "${workspaceFolder}"
                }
            },
            "isBackground": true,
            "problemMatcher": {
                "owner": "python",
                "pattern": [
                    {
                        "regexp": "."
                    }
                ],
                "background": {
                    "activeOnStart": true,
                    "beginsPattern": ".",
                    "endsPattern": "Application startup complete."
                }
            }
        },
        {
            "label": "Frontend: Vite dev",
            "type": "npm",
            "path": "frontend",
            "script": "dev",
            "isBackground": true,
            "problemMatcher": "$eslint-stylish"
        },
        {
            "label": "Backend: reload + debugpy",
            "type": "shell",
            "command": "${workspaceFolder}/.venv/bin/python",
            "windows": {
                "command": "${workspaceFolder}\\.venv\\Scripts\\python.exe"
            },
            "args": [
                "backend/run_debug.py"
            ],
            "isBackground": true,
            "problemMatcher": {
                "owner": "python",
                "pattern": [
                    {
                        "regexp": "."
                    }
                ],
                "background": {
                    "activeOnStart": true,
                    "beginsPattern": ">> debugpy listening",
                    "endsPattern": "Application startup complete."
                }
            }
        }
    ]
}